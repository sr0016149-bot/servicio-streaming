<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Streaming Premium</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Arial,sans-serif;background:#000;color:#fff;margin:0;padding:15px}
h1,h2{text-align:center;margin:5px 0}
.productos{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:15px;max-width:1000px;margin:auto}
.producto{background:#111;border-radius:12px;padding:15px;text-align:center;position:relative;box-shadow:0 4px 10px rgba(0,0,0,.6);transition:.3s}

.producto{opacity:0;transform:translateY(20px);animation:aparecer .6s ease forwards}
.producto:hover{transform:translateY(-6px) scale(1.05);box-shadow:0 12px 25px rgba(0,0,0,.9)}
@keyframes aparecer{to{opacity:1;transform:translateY(0)}}

.logo{width:65px;margin-bottom:10px}
.poster{width:100%;max-width:180px;border-radius:10px;margin-bottom:10px}
.estreno{position:absolute;top:10px;left:10px;background:#e50914;padding:5px 10px;font-size:12px;font-weight:bold;border-radius:6px}
.vendido{position:absolute;top:10px;right:10px;background:#f1c40f;color:#000;padding:5px 10px;font-size:12px;font-weight:bold;border-radius:6px}
.oferta{background:#c0392b;color:#fff;font-size:12px;padding:5px 10px;border-radius:6px;margin-bottom:6px;display:inline-block}
.stock{font-size:14px;color:#1DB954;font-weight:bold}
.sin-stock{color:#e74c3c}

button{
  background:linear-gradient(135deg,#25D366,#1ebc5a);
  border:none;color:#fff;padding:12px;width:100%;
  border-radius:8px;font-size:16px;font-weight:bold;
  cursor:pointer;margin-top:10px;
  animation:pulso 2s infinite;
}
@keyframes pulso{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
button:disabled{background:#555;cursor:not-allowed}

.filtros{text-align:center;margin:25px 0}
.filtros button{width:auto;margin:5px;padding:8px 15px;font-size:14px}
.carrusel{display:flex;gap:15px;overflow-x:auto;padding:10px}
.carrusel::-webkit-scrollbar{display:none}

.carrito,.checkout{background:#111;max-width:500px;margin:20px auto;padding:15px;border-radius:10px}
.item{display:flex;justify-content:space-between;margin-bottom:6px}
.item button{background:#e74c3c;padding:5px 10px;width:auto;font-size:14px}
.alias{text-align:center;font-size:18px;font-weight:bold}

.whatsapp-float{
position:fixed;bottom:20px;right:20px;background:#25D366;color:#fff;
padding:15px 18px;border-radius:50%;font-size:22px;
text-decoration:none;box-shadow:0 4px 10px rgba(0,0,0,.6);z-index:999}

.sellos{display:flex;justify-content:center;gap:20px;margin:40px 0 10px;color:#ccc;font-size:14px}
</style>
</head>

<body>

<h1>üì∫ Streaming Premium</h1>
<h2>Activaci√≥n r√°pida ‚Ä¢ Soporte ‚Ä¢ Garant√≠a</h2>
<p style="text-align:center;color:#ccc;">‚úî Cuentas activas ‚Ä¢ ‚úî Reposici√≥n garantizada</p>

<div class="filtros">
  <button onclick="mostrar('streaming')">üì∫ Streaming</button>
  <button onclick="mostrar('peliculas')">üé¨ Pel√≠culas</button>
</div>

<!-- STREAMING -->
<div class="productos streaming">

<div class="producto"><span class="vendido">‚≠ê M√ÅS VENDIDO</span>
<img src="img/netflix.png" class="logo">
<h3>Netflix</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$5.500</b></p>
<div class="stock" id="stock-netflix">Cargando stock...</div>
<button id="btn-netflix" onclick="agregarPlataforma('netflix','Netflix - 1 Mes (1 Pantalla)',5500)">Agregar</button>
</div>

<div class="producto">
<img src="img/hbomax.png" class="logo">
<h3>HBO Max</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$3.000</b></p>
<div class="stock" id="stock-hbomax">Cargando stock...</div>
<button id="btn-hbomax" onclick="agregarPlataforma('hbomax','HBO Max - 1 Mes (1 Pantalla)',3000)">Agregar</button>
</div>

<div class="producto">
<img src="img/apple.png" class="logo">
<h3>Apple TV+</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$2.800</b></p>
<div class="stock" id="stock-apple">Cargando stock...</div>
<button id="btn-apple" onclick="agregarPlataforma('apple','Apple TV+ - 1 Mes (1 Pantalla)',2800)">Agregar</button>
</div>

<div class="producto">
<img src="img/youtube.png" class="logo">
<h3>YouTube Premium</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$3.500</b></p>
<div class="stock" id="stock-youtube">Cargando stock...</div>
<button id="btn-youtube" onclick="agregarPlataforma('youtube','YouTube Premium - 1 Mes (1 Pantalla)',3500)">Agregar</button>
</div>

<div class="producto" id="spotify-producto">
<div class="oferta">üî• OFERTA</div>
<img src="img/spotify.png" class="logo">
<h3>Spotify</h3>
<p>2 Meses</p>
<p><b>$3.000</b></p>
<div class="stock" id="stock-spotify">Cargando stock...</div>
<button id="btn-spotify" onclick="agregarSpotify()">Agregar</button>
</div>

<div class="producto">
<img src="img/disney.png" class="logo">
<h3>Disney+</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$4.500</b></p>
<div class="stock" id="stock-disney">Cargando stock...</div>
<button id="btn-disney" onclick="agregarPlataforma('disney','Disney+ - 1 Mes (1 Pantalla)',4500)">Agregar</button>
</div>

<div class="producto"><span class="vendido">‚≠ê M√ÅS VENDIDO</span>
<img src="img/prime.png" class="logo">
<h3>Prime Video</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$2.900</b></p>
<div class="stock" id="stock-prime">Cargando stock...</div>
<button id="btn-prime" onclick="agregarPlataforma('prime','Prime Video - 1 Mes (1 Pantalla)',2900)">Agregar</button>
</div>

<div class="producto">
<img src="img/paramount.png" class="logo">
<h3>Paramount+</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$2.800</b></p>
<div class="stock" id="stock-paramount">Cargando stock...</div>
<button id="btn-paramount" onclick="agregarPlataforma('paramount','Paramount+ - 1 Mes (1 Pantalla)',2800)">Agregar</button>
</div>

<div class="producto">
<img src="img/vix.png" class="logo">
<h3>Vix Premium</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$2.500</b></p>
<div class="stock" id="stock-vix">Cargando stock...</div>
<button id="btn-vix" onclick="agregarPlataforma('vix','Vix Premium - 1 Mes (1 Pantalla)',2500)">Agregar</button>
</div>

<div class="producto">
<img src="img/viki.png" class="logo">
<h3>Viki Rakuten</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$2.800</b></p>
<div class="stock" id="stock-viki">Cargando stock...</div>
<button id="btn-viki" onclick="agregarPlataforma('viki','Viki Rakuten - 1 Mes (1 Pantalla)',2800)">Agregar</button>
</div>

<div class="producto">
<img src="img/crunchyroll.png" class="logo">
<h3>Crunchyroll</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$2.900</b></p>
<div class="stock" id="stock-crunchyroll">Cargando stock...</div>
<button id="btn-crunchyroll" onclick="agregarPlataforma('crunchyroll','Crunchyroll - 1 Mes (1 Pantalla)',2900)">Agregar</button>
</div>

<div class="producto">
<img src="img/tvdigital.png" class="logo">
<h3>TV Digital</h3>
<p>1 Pantalla ‚Ä¢ 30 d√≠as</p>
<p><b>$2.900</b></p>
<div class="stock" id="stock-tvdigital">Cargando stock...</div>
<button id="btn-tvdigital" onclick="agregarPlataforma('tvdigital','TV Digital - 1 Mes (1 Pantalla)',2900)">Agregar</button>
</div>

</div>

<!-- PEL√çCULAS -->
<h2 style="margin-top:40px;">üé¨ Pel√≠culas Digitales</h2>
<div class="carrusel peliculas">

<div class="producto"><span class="estreno">üî• ESTRENO</span>
<img src="img/fnaf2.jpg" class="poster">
<h3>Five Nights at Freddy's 2</h3>
<p>Espa√±ol Latino ‚Ä¢ HD</p>
<p><b>$1.000</b></p>
<button onclick="agregar('Five Nights at Freddy‚Äôs 2 HD',1000)">Agregar</button>
</div>

<div class="producto"><span class="estreno">üî• ESTRENO</span>
<img src="img/zootopia2.jpg" class="poster">
<h3>Zootopia 2</h3>
<p>Espa√±ol Latino ‚Ä¢ HD</p>
<p><b>$1.000</b></p>
<button onclick="agregar('Zootopia 2 HD',1000)">Agregar</button>
</div>

<div class="producto"><span class="estreno">üî• ESTRENO</span>
<img src="img/telefononegro2.jpg" class="poster">
<h3>El Tel√©fono Negro 2</h3>
<p>Espa√±ol Latino ‚Ä¢ HD</p>
<p><b>$1.000</b></p>
<button onclick="agregar('El Tel√©fono Negro 2 HD',1000)">Agregar</button>
</div>

<div class="producto"><span class="estreno">üî• ESTRENO</span>
<img src="img/losextranos2.jpg" class="poster">
<h3>Los Extra√±os: Cap√≠tulo 2</h3>
<p>Espa√±ol Latino ‚Ä¢ HD</p>
<p><b>$1.000</b></p>
<button onclick="agregar('Los Extra√±os Cap√≠tulo 2 HD',1000)">Agregar</button>
</div>

<div class="producto"><span class="estreno">üî• ESTRENO</span>
<img src="img/animalespeligrosos.jpg" class="poster">
<h3>Animales Peligrosos</h3>
<p>Espa√±ol Latino ‚Ä¢ HD</p>
<p><b>$1.000</b></p>
<button onclick="agregar('Animales Peligrosos HD',1000)">Agregar</button>
</div>

</div>

<div class="carrito">
<h2>üõí Pedido</h2>
<div id="lista"></div>
<h3>Total: $<span id="total">0</span></h3>
<button onclick="vaciarCarrito()">üóë Vaciar carrito</button>
</div>

<div class="checkout">
<p><b>üí≥ Pago por transferencia</b></p>
<p class="alias">SREYES2460.NX.ARG</p>
<button onclick="enviarPedido()">üì≤ Enviar pedido</button>
</div>

<div class="sellos">
<div>‚úî Garant√≠a</div>
<div>‚úî Soporte 24 hs</div>
<div>‚úî Reposici√≥n inmediata</div>
</div>

<a href="https://wa.me/5491161124784" class="whatsapp-float" target="_blank">üí¨</a>

<!-- üî• FIREBASE + STOCK REAL -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getDatabase, ref, onValue, runTransaction } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBLUCC9NNnIPgYe5Lc9rm2InjuGiQq8GNI",
  authDomain: "spotify-f18b8.firebaseapp.com",
  databaseURL: "https://spotify-f18b8-default-rtdb.firebaseio.com",
  projectId: "spotify-f18b8",
  storageBucket: "spotify-f18b8.firebasestorage.app",
  messagingSenderId: "46750655712",
  appId: "1:46750655712:web:4c9a0e1aeca573b5761c85"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

/* CARRITO */
let carrito=[], total=0;

/* AGREGAR GEN√âRICO */
window.agregarPlataforma=(k,n,p)=>{
  const r=ref(db,"stock/"+k);
  runTransaction(r,s=>s>0?s-1:s).then(res=>{
    if(res.committed) agregar(n,p);
    else alert("Sin stock disponible");
  });
};

/* SPOTIFY */
const refSpotify=ref(db,"stock/spotify");
onValue(refSpotify,snap=>{
  const s=snap.val(),t=stockSpotify=document.getElementById("stock-spotify"),b=document.getElementById("btn-spotify");
  if(s>0){t.innerText="Stock disponible: "+s;b.disabled=false}
  else{t.innerText="‚ùå Sin stock";t.classList.add("sin-stock");b.disabled=true}
});
window.agregarSpotify=()=>runTransaction(refSpotify,s=>s>0?s-1:s).then(r=>{if(r.committed)agregar("Spotify - 2 Meses (OFERTA)",3000)});

/* RESTO */
["netflix","hbomax","apple","youtube","disney","prime","paramount","vix","viki","crunchyroll","tvdigital"].forEach(k=>{
  const r=ref(db,"stock/"+k);
  onValue(r,snap=>{
    const s=snap.val(),t=document.getElementById("stock-"+k),b=document.getElementById("btn-"+k);
    if(!t||!b)return;
    if(s>0){t.innerText="Stock disponible: "+s;b.disabled=false}
    else{t.innerText="‚ùå Sin stock";t.classList.add("sin-stock");b.disabled=true}
  });
});

/* FUNCIONES ORIGINALES */
window.agregar=(n,p)=>{carrito.push({n,p});total+=p;render()}
window.eliminar=i=>{total-=carrito[i].p;carrito.splice(i,1);render()}
function render(){
  let l=document.getElementById("lista");l.innerHTML="";
  carrito.forEach((x,i)=>l.innerHTML+=`<div class="item">${x.n} - $${x.p}<button onclick="eliminar(${i})">‚úñ</button></div>`);
  document.getElementById("total").innerText=total;
}
window.vaciarCarrito=()=>{carrito=[];total=0;render()}
window.enviarPedido=()=>{
  if(!carrito.length)return alert("Seleccion√° un producto");
  let m="Hola! Quiero contratar:%0A%0A";
  carrito.forEach(i=>m+=`‚Ä¢ ${i.n} - $${i.p}%0A`);
  m+=`%0Aüí∞ Total: $${total}`;
  window.open("https://wa.me/5491161124784?text="+m,"_blank");
}
window.mostrar=t=>{
  document.querySelector('.streaming').style.display=t==='streaming'?'grid':'none';
  document.querySelector('.peliculas').style.display=t==='peliculas'?'flex':'none';
};
</script>

</body>
</html>
